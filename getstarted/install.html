
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>1.1. How to install SPEX &#8212; SPEX Help Center 3.05 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="canonical" href="https://spex-xray.github.io/spex-help/getstarted/install.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="1.2. How to run SPEX" href="runspex.html" />
    <link rel="prev" title="1. Getting started" href="../getstarted.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="how-to-install-spex">
<span id="sec-install"></span><h1>1.1. How to install SPEX<a class="headerlink" href="#how-to-install-spex" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div></div></blockquote>
<div class="section" id="download">
<h2>1.1.1. Download<a class="headerlink" href="#download" title="Permalink to this headline">¶</a></h2>
<p>SPEX install files can be downloaded from our Zenodo page.</p>
<p>We provide several options for installing SPEX. They all have their own install file:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 48%" />
<col style="width: 42%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Download type</p></td>
<td><p>Linux</p></td>
<td><p>Mac OS</p></td>
</tr>
<tr class="row-even"><td><p>Binary (Administrator)</p></td>
<td></td>
<td><p><a class="reference external" href="https://zenodo.org/record/2419563/files/spex-3.05.00-MacOS.dmg?download=1">SPEX-3.05.00-MacOS.dmg</a></p></td>
</tr>
<tr class="row-odd"><td><p>Binary (Non-Administrator)</p></td>
<td><p><a class="reference external" href="https://zenodo.org/record/2419563/files/spex-3.05.00-Linux-x86_64.tar.gz?download=1">SPEX-3.05.00-Linux-x86_64.tar.gz</a></p></td>
<td><p><a class="reference external" href="https://zenodo.org/record/2419563/files/spex-3.05.00-MacOS.tar.gz?download=1">SPEX-3.05.00-MacOS.tar.gz</a></p></td>
</tr>
<tr class="row-even"><td><p>Windows 10</p></td>
<td><p><a class="reference external" href="ftp://ftp.sron.nl/pub/jellep/spex/v3.05/spex-3.05.00-Linux-gfortran.tar.gz">spex-3.05.00-Linux-gfortran.tar.gz</a></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Source code</p></td>
<td colspan="2"><p><a class="reference external" href="https://zenodo.org/record/2419563/files/spex-3.05.00-Source.tar.bz2?download=1">SPEX-3.05.00-Source.tar.bz2</a></p></td>
</tr>
<tr class="row-even"><td><p>Docker image</p></td>
<td colspan="2"><p><a class="reference external" href="https://zenodo.org/record/2419563/files/spex-3.05.00-docker.tar.gz?download=1">SPEX-3.05.00-docker.tar.gz</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="linux">
<h2>1.1.2. Linux<a class="headerlink" href="#linux" title="Permalink to this headline">¶</a></h2>
<p>Unpack the tar file in the destination directory (for example /usr/local/):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>tar xvfz spex-3.05.00-Linux-x86_64.tar.gz
</pre></div>
</div>
<p>The tar file will create a directory called SPEX-3.05.00-Linux in which the program will be installed.</p>
<p>Set the environment variable SPEX90 to the installation directory (for example /usr/local/SPEX-3.05.00-Linux):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>export SPEX90=/usr/local/SPEX-3.05.00-Linux (bash shell)
setenv SPEX90 /usr/local/SPEX-3.05.00-Linux (C-type shell)
</pre></div>
</div>
<p>Source the script provided by the distribution:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>source $SPEX90/spexdist.sh (bash shell)
source $SPEX90/spexdist.csh (C-type shell)
</pre></div>
</div>
<p>Remove the tar file: rm SPEX-3.05.00-Linux-x86_64.tar.gz</p>
</div>
<div class="section" id="mac-os">
<h2>1.1.3. Mac OS<a class="headerlink" href="#mac-os" title="Permalink to this headline">¶</a></h2>
<div class="section" id="administrator-install">
<h3>1.1.3.1. Administrator install<a class="headerlink" href="#administrator-install" title="Permalink to this headline">¶</a></h3>
<p>If you have administrator rights on your Mac, this option is the easiest one. Download the DMG file from Zenodo (SPEX-3.05.00-MacOS.dmg),
open it in Mac OS and follow the instructions on the screen.</p>
</div>
<div class="section" id="non-administrator-install">
<h3>1.1.3.2. Non-administrator install<a class="headerlink" href="#non-administrator-install" title="Permalink to this headline">¶</a></h3>
<p>Unpack the tar file in the destination directory (for example /usr/local/):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>tar xvfz spex-3.05.00-MacOS.tar.gz
</pre></div>
</div>
<p>The tar file will create a directory called SPEX-3.05.00-MacOS in which the program will be installed.</p>
<p>Set the environment variable SPEX90 to the installation directory (for example /usr/local/SPEX-3.05.00-MacOS):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>export SPEX90=/usr/local/SPEX-3.05.00-MacOS (bash shell)
setenv SPEX90 /usr/local/SPEX-3.05.00-MacOS (C-type shell)
</pre></div>
</div>
<p>Source the script provided by the distribution:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>source $SPEX90/spexdist.sh (bash shell)
source $SPEX90/spexdist.csh (C-type shell)
</pre></div>
</div>
<p>Remove the tar file: rm SPEX-3.05.00-MacOS.tar.gz</p>
</div>
<div class="section" id="windows-10">
<h3>1.1.3.3. Windows 10<a class="headerlink" href="#windows-10" title="Permalink to this headline">¶</a></h3>
<p>SPEX can be installed in Windows 10 using the new linux subsystem in Windows. SPEX can run in an Ubuntu Linux
environment that can be installed through the Microsoft Store.</p>
<p><a class="reference external" href="https://tutorials.ubuntu.com/tutorial/tutorial-ubuntu-on-windows#0">How to install Ubuntu in Windows 10</a></p>
<p>In addition to the Ubuntu terminal, you also need a graphical X server. We recommend the XMING server.
This will make sure that you can plot in SPEX.</p>
<div class="section" id="install-spex-in-the-ubuntu-environment">
<h4>1.1.3.3.1. Install SPEX in the Ubuntu environment<a class="headerlink" href="#install-spex-in-the-ubuntu-environment" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p>On the Ubuntu terminal, first install the OpenBlas library: apt-get install libopenblas-base</p></li>
<li><p>Download <a class="reference external" href="ftp://ftp.sron.nl/pub/jellep/spex/v3.05/spex-3.05.00-Linux-gfortran.tar.gz">spex-3.05.00-Linux-gfortran.tar.gz</a>
from our FTP server. This file is not (yet) available on Zenodo.
Unpack the tar file in the destination directory (for example /usr/local/):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>tar xvfz spex-3.05.00-Linux-gfortran.tar.gz
</pre></div>
</div>
<p>The tar file will create a directory called SPEX-3.05.00-Linux in which the program will be installed.</p>
</li>
<li><p>Set the environment variable SPEX90 to the installation directory (for example /usr/local/SPEX-3.05.00-Linux):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>export SPEX90=/usr/local/SPEX-3.05.00-Linux (bash shell)
setenv SPEX90 /usr/local/SPEX-3.05.00-Linux (C-type shell)
</pre></div>
</div>
</li>
<li><p>Source the script provided by the distribution:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>source $SPEX90/spexdist.sh (bash shell)
source $SPEX90/spexdist.csh (C-type shell)
</pre></div>
</div>
</li>
<li><p>Remove the tar file: rm SPEX-3.05.00-Linux-gfortran.tar.gz</p></li>
</ol>
</div>
</div>
</div>
<div class="section" id="source-code">
<h2>1.1.4. Source code<a class="headerlink" href="#source-code" title="Permalink to this headline">¶</a></h2>
<p>Table of Contents:</p>
<ul class="simple">
<li><p>Getting started</p></li>
<li><p>Library dependencies</p></li>
<li><p>MacOS instructions</p></li>
<li><p>General compilation instructions</p></li>
<li><p>Optional features</p></li>
<li><p>Create install packages</p></li>
</ul>
<div class="section" id="getting-started">
<h3>1.1.4.1. Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h3>
<p>The SPEX source code can be compiled using the multi-platform Cmake build system. See <a class="reference external" href="http://www.cmake.org/">http://www.cmake.org/</a>
for more information and downloads, or check the package manager of your Linux distribution. The SPEX install
needs CMake version 3.0 or higher.</p>
<p>Since SPEX is programmed mostly in Fortran 90, it is recommended to use a recent Fortran compiler. SPEX has
been tested with GFortran (version 4 and above) and the Intel Fortran Compiler.</p>
<p>This Zenodo contains a tar.bz2 file containing the source code of SPEX: spex-3.05.00-Source.tar.bz2. Unpack it in a convenient directory:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>unix:~/Software&gt; tar xvfj spex-3.05.00-Source.tar.bz2
</pre></div>
</div>
</div>
<div class="section" id="library-dependencies">
<h3>1.1.4.2. Library dependencies<a class="headerlink" href="#library-dependencies" title="Permalink to this headline">¶</a></h3>
<p>SPEX depends on a few external libraries to function. For some of those, the library source code has been included
in the SPEX source code package. By default, CMake will look for system libraries to link to. If they are not there,
then the version in the source package will be used.</p>
<p>The following libraries and packages are required to compile SPEX:</p>
<ul class="simple">
<li><p>CMake</p></li>
<li><p>X11</p></li>
<li><p>Readline</p></li>
<li><p>CFITSIO (*)</p></li>
<li><p>BLAS (*)</p></li>
<li><p>LAPACK (*)</p></li>
<li><p>PGPLOT (*)</p></li>
</ul>
<p>(*) The SPEX source tree also contains the library if necessary.</p>
<p>All these libraries are commonly available in Linux distributions, so please read the documentation of your distribution
to find out how to install these libraries. Please note that some distributions require you to also install the
‘development’ package of a library to be able to use them during compilation. In the Debian repository, for example,
the development package of readline is called ‘libreadline-dev’.</p>
<p>Below, we list some library-specific comments that can be helpful in case of problems.</p>
<div class="section" id="readline">
<h4>1.1.4.2.1. Readline<a class="headerlink" href="#readline" title="Permalink to this headline">¶</a></h4>
<p>Note for Mac OSX users: The OSX readline library is NOT compatible with the GNU readline library. You need to compile
your own readline library from source or find a GNU readline library elsewhere on your system to link to. Compilation
may work in, for example, a MacPorts environment, although this has not been tested. The official Mac version of SPEX
statically links to a compiled version of readline downloaded from:</p>
<p><a class="reference external" href="https://tiswww.case.edu/php/chet/readline/rltop.html">https://tiswww.case.edu/php/chet/readline/rltop.html</a></p>
</div>
<div class="section" id="cfitsio">
<h4>1.1.4.2.2. CFITSIO<a class="headerlink" href="#cfitsio" title="Permalink to this headline">¶</a></h4>
<p>The SPEX source tree contains an old fortran version of fitsio, which is sufficient for the vast majority of applications.
However, in exceptional cases, the old library cannot handle very large fits files. In those cases, it is better to link
to a system CFITSIO library.</p>
</div>
<div class="section" id="blas-and-lapack">
<h4>1.1.4.2.3. BLAS and LAPACK<a class="headerlink" href="#blas-and-lapack" title="Permalink to this headline">¶</a></h4>
<p>Some of the SPEX models depend heavily on the BLAS and LAPACK linear algebra packages. The default routines are available
in the SPEX source tree, but compiling those will not provide the best performance. The performance improves substantially
if an optimized BLAS or LAPACK library is used. There are two tested options:</p>
<ul class="simple">
<li><p>Intel Math Kernel Library (MKL)</p></li>
<li><p>OpenBLAS</p></li>
</ul>
<p>When compiling with the Intel Fortran compiler, using MKL is quite obvious. To link the MKL library, add the following
option to the cmake command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cmake . -DMKL=YES
</pre></div>
</div>
<p>If MKL is not set, cmake will look for other options, like OpenBLAS, if they are installed on your machine. If nothing
is found, the non-optimized code in the SPEX source tree is used. On Mac, CMake could find the MacOS Accelerator framework.</p>
</div>
</div>
<div class="section" id="macos-instructions">
<h3>1.1.4.3. MacOS instructions<a class="headerlink" href="#macos-instructions" title="Permalink to this headline">¶</a></h3>
<p>The compilation of SPEX on MacOS is slightly more demanding. SPEX can run natively on MacOS (without ports), but then it
needs a few pre-installed programs:</p>
<ul class="simple">
<li><p>Xcode (Through the App store)</p></li>
<li><p><a class="reference external" href="https://cmake.org/download/">CMake</a></p></li>
<li><p><a class="reference external" href="https://www.xquartz.org/">XQuartz</a></p></li>
<li><p><a class="reference external" href="https://tiswww.case.edu/php/chet/readline/rltop.html">GNU readline</a> Compile and install readline with ‘clang’ and install in /usr/local.</p></li>
<li><p>Fortran compiler. For example <a class="reference external" href="http://hpc.sourceforge.net/">GCC/GFORTRAN</a>.</p></li>
</ul>
</div>
<div class="section" id="general-compilation-instructions">
<h3>1.1.4.4. General Compilation Instructions<a class="headerlink" href="#general-compilation-instructions" title="Permalink to this headline">¶</a></h3>
<p>When all library dependencies are installed, the compilation process can begin. Execute cmake in the root directory of the SPEX source tree,
where CMakeLists.txt is located (mind the dot):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>unix:~/Software/SPEX-3.05.00-Source&gt; cmake .
</pre></div>
</div>
<p>If no errors occured and all libraries were found, then type ‘make’:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>unix:~/Software/SPEX-3.05.00-Source&gt; make
</pre></div>
</div>
<p>When the program needs to be installed system wide, then execute:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>unix:~/Software/SPEX-3.05.00-Source&gt; sudo make install
</pre></div>
</div>
<p>The program will be installed to /opt/spex by default. Usually, administrator rights are necessary to copy the files to the right location.</p>
<p>Before you can run SPEX, the environment needs to be set. This can be done with the source command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>source /opt/spex/spexdist.sh (bash shell)
source /opt/spex/spexdist.csh (C-type shell)
</pre></div>
</div>
<p>In case you used another prefix for the SPEX installation directory, you can find spexdist.sh or spexdist.csh in the prefix directory
that you set. To load the SPEX environment automatically, add the relevant source line to your ~/.cshrc or ~/.bashrc file.</p>
</div>
<div class="section" id="optional-features">
<h3>1.1.4.5. Optional features<a class="headerlink" href="#optional-features" title="Permalink to this headline">¶</a></h3>
<p>There are several options that can be passed to CMake to influence the build process through the -D operator. Of course,
all options can be combined in a single cmake call. See the cmake documentation and the CMakeLists.txt file for details.</p>
<div class="section" id="compiler-selection">
<h4>1.1.4.5.1. Compiler selection<a class="headerlink" href="#compiler-selection" title="Permalink to this headline">¶</a></h4>
<p>Select a different fortran compiler:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>unix:~/Software/SPEX-3.05.00-Source&gt; cmake . -DCMAKE_Fortran_COMPILER=ifort
</pre></div>
</div>
</div>
<div class="section" id="install-prefix">
<h4>1.1.4.5.2. Install prefix<a class="headerlink" href="#install-prefix" title="Permalink to this headline">¶</a></h4>
<p>Install SPEX at a different location in the ‘make install’ step:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>unix:~/Software/SPEX-3.05.00-Source&gt; cmake . -DCMAKE_INSTALL_PREFIX=/home/user/software
</pre></div>
</div>
</div>
<div class="section" id="force-use-of-spex-libraries">
<h4>1.1.4.5.3. Force use of SPEX libraries<a class="headerlink" href="#force-use-of-spex-libraries" title="Permalink to this headline">¶</a></h4>
<p>The use of the SPEX libraries in the source tree can be forced:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>unix:~/Software/SPEX-3.05.00-Source&gt; cmake . -DCFITSIO=YES -DPGPLOT=YES
</pre></div>
</div>
<p>The command above will compile these libraries from the SPEX source tree. See the CMakeLists.txt file for more options.</p>
</div>
</div>
</div>
<div class="section" id="docker">
<h2>1.1.5. Docker<a class="headerlink" href="#docker" title="Permalink to this headline">¶</a></h2>
<p>SPEX is written mostly in Fortran 90 and depends on a few system libraries. This makes it difficult to provide a few
binary versions that will continue to run on multiple platforms over many years. Therefore, we have also created a
Docker image for SPEX that can be run on the Docker platform, which is available for Linux, Mac OS and Windows.</p>
<div class="section" id="step-1-download-and-install-docker-on-your-computer">
<h3>1.1.5.1. Step 1: Download and install Docker on your computer<a class="headerlink" href="#step-1-download-and-install-docker-on-your-computer" title="Permalink to this headline">¶</a></h3>
<p>To run a Docker image, please install Docker on your computer. See the <a class="reference external" href="https://www.docker.com/">Docker website</a> for details and look for the
Docker Engine community edition. Once you have downloaded and installed Docker, you can continue with this tutorial.</p>
</div>
<div class="section" id="step-2-download-the-spex-docker-image-from-zenodo">
<h3>1.1.5.2. Step 2: Download the SPEX docker image from Zenodo<a class="headerlink" href="#step-2-download-the-spex-docker-image-from-zenodo" title="Permalink to this headline">¶</a></h3>
<p>The SPEX Docker image is available on this Zenodo page as a tar.gz file. Please download the file called spex-[version]-docker.tar.gz, for example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>spex-3.05.00-docker.tar.gz
</pre></div>
</div>
</div>
<div class="section" id="step-3-import-the-spex-image-into-docker">
<h3>1.1.5.3. Step 3: Import the SPEX image into Docker<a class="headerlink" href="#step-3-import-the-spex-image-into-docker" title="Permalink to this headline">¶</a></h3>
<p>Before you can run the docker file, it should be imported into the docker system. This can be done on the command line:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>user@linux:~&gt; docker load -i spex-3.05.00-docker.tar.gz
</pre></div>
</div>
<p>The image will be named spexxray/spex with the tag 3.05.00 and can be found with the command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>user@linux:~&gt; docker images
REPOSITORY TAG IMAGE ID CREATED SIZE
spexxray/spex 3.05.00 0a0a0a0a0a0 1 minute ago 311MB
</pre></div>
</div>
</div>
<div class="section" id="step-4-run-spex-on-docker">
<h3>1.1.5.4. Step 4: Run SPEX on Docker<a class="headerlink" href="#step-4-run-spex-on-docker" title="Permalink to this headline">¶</a></h3>
<p>Using the docker run command, the image can be executed and SPEX can be run in a so-called container. To enjoy all the
capabilities of SPEX, two things need to be arranged in the docker run command: access to local directories and a graphical
X11 connection. To arrange this, additional flags need to be specified on the command line.</p>
</div>
<div class="section" id="mounting-local-directories-to-the-container">
<h3>1.1.5.5. Mounting local directories to the container<a class="headerlink" href="#mounting-local-directories-to-the-container" title="Permalink to this headline">¶</a></h3>
<p>If you would like to mount your own home directory into the SPEX container such that you can use some spo and res files there
or save the output files, then you need the following flags:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-e LOCAL_USER_ID=`id -u $USER`
-v /home/myusername:/home/user
</pre></div>
</div>
<p>The first flag arranges that the user in the container will have the same user ID as you. This will allow you to read and
write to your home directory from within the container.</p>
<p>The second flag arranges that your true local home directory called /home/myusername is mounted to /home/user inside the SPEX container.</p>
<p>MAC users: Please note that on OSX your home directory is in /Users/myusername.</p>
</div>
<div class="section" id="arranging-the-x11-connection">
<h3>1.1.5.6. Arranging the X11 connection<a class="headerlink" href="#arranging-the-x11-connection" title="Permalink to this headline">¶</a></h3>
<p>To make sure PGPLOT can connect to the X11 server on the host, we need to make a few connections from the container to the host machine.
This is done with the following flags:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-e DISPLAY=$DISPLAY
-v /tmp/.X11-unix:/tmp/.X11-unix
</pre></div>
</div>
<p>The first flag sets the DISPLAY variable inside the container to the DISPLAY variable of the host machine. The second flag mounts the X11
temporary directory of the host to the same directory inside the container.</p>
<p>MAC users: To use X11 on Mac, you need to install XQuartz (or a similar X11 server) and set it to ‘Allow connections from network clients’
in the XQuartz settings. In addition, the X server should be set to allow incoming connections from localhost on the command line:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>user@macos:~&gt; xhost +127.0.0.1
</pre></div>
</div>
<p>Then the DISPLAY variable on the docker run line should be set to host.docker.internal:0</p>
</div>
<div class="section" id="the-complete-docker-run-command">
<h3>1.1.5.7. The complete docker run command<a class="headerlink" href="#the-complete-docker-run-command" title="Permalink to this headline">¶</a></h3>
<p>The full run commands for docker now look like below, where -w means that the container will start in working directory /home/user.</p>
<p>For Linux:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>docker run -it \
-e DISPLAY=$DISPLAY \
-e LOCAL_USER_ID=`id -u $USER` \
-v /tmp/.X11-unix:/tmp/.X11-unix \
-v /home/myusername:/home/user \
-w /home/user \
spexxray/spex:3.05.00
</pre></div>
</div>
<p>For Mac:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>docker run -it \
-e DISPLAY=host.docker.internal:0 \
-e LOCAL_USER_ID=`id -u $USER` \
-v /tmp/.X11-unix:/tmp/.X11-unix \
-v /Users/myusername:/home/user \
-w /home/user \
spexxray/spex:3.05.00
</pre></div>
</div>
<p>The docker run command above will provide you with a prompt that will allow you to run spex:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>user@linux:~&gt; docker run -it -e DISPLAY=$DISPLAY -e LOCAL_USER_ID=`id -u $USER` \
-v /tmp/.X11-unix:/tmp/.X11-unix -v /home/myusername:/home/user -w /home/user \
spexxray/spex:3.05.00

Welcome to the SPEX Docker Container!
Just type &#39;spex&#39; to start the program.
user@0922f2e4ff85:~&gt;
</pre></div>
</div>
<p>In this environment, you can just run spex or trafo:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>user@0922f2e4ff85:~&gt; spex
Welcome user to SPEX version 3.05.00

NEW in this version of SPEX:
11-06-2018 Added Ext_Rate column to new spo files
18-12-2018 SPEX is now using the GPL license
18-12-2018 Release of version 3.05.00

SPEX&gt;
</pre></div>
</div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo-wide.png" alt="Logo"/>
    
  </a>
</p>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../getstarted.html">1. Getting started</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">1.1. How to install SPEX</a></li>
<li class="toctree-l2"><a class="reference internal" href="runspex.html">1.2. How to run SPEX</a></li>
<li class="toctree-l2"><a class="reference internal" href="runtrafo.html">1.3. How to convert spectra to SPEX format</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../threads.html">2. Analysis threads</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">3. Command overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models.html">4. Spectral models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools.html">5. Additional tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help.html">6. Help &amp; troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../theory.html">7. SPEX Theory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises.html">8. Exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">9. Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">10. Credits</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../getstarted.html">1. Getting started</a><ul>
      <li>Previous: <a href="../getstarted.html" title="previous chapter">1. Getting started</a></li>
      <li>Next: <a href="runspex.html" title="next chapter">1.2. How to run SPEX</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
<div class="footer">
      &copy;2019, Jelle de Plaa, Jelle Kaastra, SPEX development team,
    <a href="https://www.sron.nl/">SRON Netherlands Institute for Space Research</a>.
</div>

  </body>
</html>